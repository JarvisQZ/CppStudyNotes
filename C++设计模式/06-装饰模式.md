[toc]

# 装饰模式

decorator

单一职责模式

在软件组件的设计中，如果责任划分的不清晰，使用继承得到的结果往往是随着需求的变化，子类急剧膨胀，同时充斥着重复代码，这时候

## 动机

过度的使用继承来拓展对象的功能，使得拓展方式缺乏灵活性，随着子类增多，各种子类的组合会急剧膨胀

## 模式定义

动态的给一个对象增加职责，就增加功能来说，装饰器相比子类更加灵活。

## 结构

![image-20221016231335838](.\imgs\06.png)

## 要点总结

- 通过采用组合而非继承的手法，装饰模式实现了在运行时动态拓展对象功能的能力，而且可以根据需要拓展多个功能。避免了使用继承带来的灵活性差和多子类衍生问题

- Decorator模式在接口上表现为is-a Component的继承关系，即Decorator类继承了Component类所具有的接口，但在实现上又表现为 has-a Component的组合关系，即Decorator类又使用了另外一个Component类
- Decorator模式的目的并非要解决多子类衍生的多继承问题，目的在于解决主体类在多个方向上的拓展功能--装饰的含义



一个类中既继承又组合，很大可能是装饰模式